/* eslint-disable @typescript-eslint/no-empty-function */
import { isTransaction } from '@onelabs/sui/transactions';
import type {
  IdentifierArray,
  SignedTransaction,
  SuiSignAndExecuteTransactionBlockInput,
  SuiSignAndExecuteTransactionBlockMethod,
  SuiSignAndExecuteTransactionBlockOutput,
  SuiSignAndExecuteTransactionInput,
  SuiSignAndExecuteTransactionMethod,
  SuiSignAndExecuteTransactionOutput,
  SuiSignMessageMethod,
  SuiSignMessageOutput,
  SuiSignPersonalMessageMethod,
  SuiSignPersonalMessageOutput,
  SuiSignTransactionBlockInput,
  SuiSignTransactionBlockMethod,
  SuiSignTransactionInput,
  SuiSignTransactionMethod,
  Wallet,
  WalletAccount,
} from '@mysten/wallet-standard';

import { COSMOSTATION_WALLET_NAME } from '@/constants/common';
import type { ApprovedSuiPermissionType } from '@/types/extension';
import type { EventDetail, SuiListenerType } from '@/types/message';
import type {
  SuiRequestAccountResponse,
  SuiRequestChainResponse,
  SuiRequestDisconnectResponse,
  SuiRequestGetPermissionResponse,
  SuiSignAndExecuteTransactionBlockSerializedInput,
  SuiSignAndExecuteTransactionSerializedInput,
  SuiSignTransactionBlockResponse,
  SuiSignTransactionBlockSerializedInput,
  SuiSignTransactionSerializedInput,
} from '@/types/message/inject/sui';

import { suiRequestApp } from '../request';

const getAccounts = async () => {
  const account = (await suiRequestApp({ method: 'sui_getAccount', params: undefined })) as SuiRequestAccountResponse;
  return [account.address];
};

const getPublicKey = async () => {
  const account = (await suiRequestApp({ method: 'sui_getAccount', params: undefined })) as SuiRequestAccountResponse;
  return account.publicKey;
};

const getChain = async () => {
  const chain = (await suiRequestApp({ method: 'sui_getChain', params: undefined })) as SuiRequestChainResponse;
  return chain;
};

const requestPermissions = async (permissions: ApprovedSuiPermissionType[] = ['suggestTransactions', 'viewAccount']) => {
  try {
    await suiRequestApp({ method: 'sui_connect', params: permissions });
    return true;
  } catch {
    return false;
  }
};

const connect = requestPermissions;

const disconnect = () => suiRequestApp({ method: 'sui_disconnect', params: undefined }) as Promise<SuiRequestDisconnectResponse>;

const hasPermissions = async (permissions: ApprovedSuiPermissionType[] = ['suggestTransactions', 'viewAccount']) => {
  try {
    const currentPermissions = (await suiRequestApp({ method: 'sui_getPermissions', params: undefined })) as SuiRequestGetPermissionResponse;

    return permissions.every((permission) => currentPermissions.includes(permission));
  } catch {
    return false;
  }
};

const signTransactionBlock: SuiSignTransactionBlockMethod = (data: Omit<SuiSignTransactionBlockInput, 'chain' | 'account'>) => {
  if (!isTransaction(data.transactionBlock)) {
    throw new Error('Unexpect transaction format found. Ensure that you are using the `Transaction` class.');
  }

  const inputParam: SuiSignTransactionBlockSerializedInput = { transactionBlockSerialized: data.transactionBlock.serialize() };

  return suiRequestApp({
    method: 'sui_signTransactionBlock',
    params: [inputParam],
  }) as Promise<SuiSignTransactionBlockResponse>;
};

const signTransaction: SuiSignTransactionMethod = async (data: Omit<SuiSignTransactionInput, 'chain' | 'account'>) => {
  const inputParam: SuiSignTransactionSerializedInput = {
    transactionBlockSerialized: await data.transaction.toJSON(),
    signal: data.signal,
  };

  return suiRequestApp({
    method: 'sui_signTransaction',
    params: [inputParam],
  }) as Promise<SignedTransaction>;
};

const signAndExecuteTransactionBlock: SuiSignAndExecuteTransactionBlockMethod = (data: Omit<SuiSignAndExecuteTransactionBlockInput, 'chain' | 'account'>) => {
  if (!isTransaction(data.transactionBlock)) {
    throw new Error('Unexpect transaction format found. Ensure that you are using the `Transaction` class.');
  }

  const inputParam: SuiSignAndExecuteTransactionBlockSerializedInput = {
    transactionBlockSerialized: data.transactionBlock.serialize(),
    options: data.options,
    requestType: data.requestType,
  };

  return suiRequestApp({
    method: 'sui_signAndExecuteTransactionBlock',
    params: [inputParam],
  }) as Promise<SuiSignAndExecuteTransactionBlockOutput>;
};

const signAndExecuteTransaction: SuiSignAndExecuteTransactionMethod = async (data: Omit<SuiSignAndExecuteTransactionInput, 'chain' | 'account'>) => {
  const inputParam: SuiSignAndExecuteTransactionSerializedInput = {
    transactionBlockSerialized: await data.transaction.toJSON(),
    signal: data.signal,
    options: {
      showRawEffects: true,
      showRawInput: true,
    },
  };

  return suiRequestApp({
    method: 'sui_signAndExecuteTransaction',
    params: [inputParam],
  }) as Promise<SuiSignAndExecuteTransactionOutput>;
};

const signMessage: SuiSignMessageMethod = ({ message, account }) =>
  suiRequestApp({
    method: 'sui_signMessage',
    params: {
      message: Buffer.from(message).toString('base64'),
      accountAddress: account?.address,
    },
  }) as Promise<SuiSignMessageOutput>;

const signPersonalMessage: SuiSignPersonalMessageMethod = async ({ message, account }) =>
  suiRequestApp({
    method: 'sui_signPersonalMessage',
    params: {
      message: Buffer.from(message).toString('base64'),
      accountAddress: account?.address,
    },
  }) as Promise<SuiSignPersonalMessageOutput>;

class SuiStandard implements Wallet {
  version: '1.0.0';

  readonly name: string = COSMOSTATION_WALLET_NAME;

  icon: `data:image/svg+xml;base64,${string}` | `data:image/webp;base64,${string}` | `data:image/png;base64,${string}` | `data:image/gif;base64,${string}`;

  chains: IdentifierArray = [];

  features: Readonly<Record<`${string}:${string}`, unknown>> = {};

  accounts: readonly WalletAccount[] = [];

  hasPermissions = hasPermissions;

  private networkChangeEventHandler: (event: CustomEvent<EventDetail>) => void = () => {};
  private accountChangeEventHandler: (event: CustomEvent<EventDetail>) => void = () => {};

  on(eventName: SuiListenerType, eventHandler: (data: unknown) => void) {
    if (eventName === 'networkChange') {
      this.networkChangeEventHandler = (event: CustomEvent<EventDetail>) => {
        if (event.detail.chainType === 'sui') {
          eventHandler(event.detail.data.result);
        }
      };

      window.addEventListener('networkChange', this.networkChangeEventHandler as EventListener);
    }
    if (eventName === 'accountChange') {
      this.accountChangeEventHandler = (event: CustomEvent<EventDetail>) => {
        if (event.detail.chainType === 'sui') {
          if (!event.detail.data.result) {
            eventHandler('');
          } else {
            eventHandler(event.detail.data.result as string);
          }
        }
      };

      window.addEventListener('accountChange', this.accountChangeEventHandler as EventListener);
    }
  }

  constructor() {
    this.version = '1.0.0';
    this.icon =
      'data:image/png;base64,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';
    this.chains = ['sui:testnet','sui:mainnet'];
    this.features = {
      'standard:connect': {
        version: '1.0.0',
        connect: async () => {
          const isConnect = await connect();

          if (isConnect) {
            const address = await getAccounts();
            const publicKey = await getPublicKey();
            const currentChain = await getChain();

            if (address.length > 0 && publicKey && currentChain) {
              this.accounts = [
                {
                  address: address[0],
                  publicKey: new Uint8Array(Buffer.from(publicKey.substring(2), 'hex')),
                  chains: [`sui:${currentChain}`],
                  features: [
                    'sui:signAndExecuteTransactionBlock',
                    'sui:signMessage',
                    'sui:signTransactionBlock',
                    'sui:signTransaction',
                    'sui:signPersonalMessage',
                    'sui:signAndExecuteTransaction',
                  ],
                },
              ];

              return { accounts: this.accounts };
            }
          }
          return { accounts: [] };
        },
      },

      'standard:events': {
        version: '1.0.0',
        on: this.on.bind(this),
      },

      'sui:signTransactionBlock': {
        version: '1.0.0',
        signTransactionBlock,
      },

      'sui:signTransaction': {
        version: '2.0.0',
        signTransaction,
      },

      'sui:signAndExecuteTransactionBlock': {
        version: '1.0.0',
        signAndExecuteTransactionBlock,
      },

      'sui:signAndExecuteTransaction': {
        version: '2.0.0',
        signAndExecuteTransaction,
      },

      'sui:signMessage': {
        version: '1.0.0',
        signMessage,
      },

      'sui:signPersonalMessage': {
        version: '2.0.0',
        signPersonalMessage,
      },
    };
    void (async () => {
      try {
        const address = await getAccounts();
        const publicKey = await getPublicKey();
        const currentChain = await getChain();

        if (address.length > 0 && publicKey && currentChain) {
          this.accounts = [
            {
              address: address[0],
              publicKey: new Uint8Array(Buffer.from(publicKey.substring(2), 'hex')),
              chains: [`sui:${currentChain}`],
              features: [
                'sui:signAndExecuteTransactionBlock',
                'sui:signMessage',
                'sui:signTransactionBlock',
                'sui:signTransaction',
                'sui:signPersonalMessage',
                'sui:signAndExecuteTransaction',
              ],
            },
          ];
        }

        // eslint-disable-next-line no-empty
      } catch {}
    })();
  }
}

export class CosmostationSui implements SuiProvider {
  private static instance: SuiProvider;

  private networkChangeEventHandler: (event: CustomEvent<EventDetail>) => void = () => {};
  private accountChangeEventHandler: (event: CustomEvent<EventDetail>) => void = () => {};

  public static getInstance(): SuiProvider {
    if (!CosmostationSui.instance) {
      CosmostationSui.instance = new CosmostationSui();
    }
    return CosmostationSui.instance;
  }

  request = suiRequestApp;
  on(eventName: SuiListenerType, eventHandler: (data: unknown) => void) {
    if (eventName === 'networkChange') {
      this.networkChangeEventHandler = (event: CustomEvent<EventDetail>) => {
        if (event.detail.chainType === 'sui') {
          eventHandler(event.detail.data.result);
        }
      };

      window.addEventListener('networkChange', this.networkChangeEventHandler as EventListener);
    }

    if (eventName === 'accountChange') {
      this.accountChangeEventHandler = (event: CustomEvent<EventDetail>) => {
        if (event.detail.chainType === 'sui') {
          if (!event.detail.data.result) {
            eventHandler('');
          } else {
            eventHandler(event.detail.data.result as string);
          }
        }
      };

      window.addEventListener('accountChange', this.accountChangeEventHandler as EventListener);
    }
  }
  off(eventName: SuiListenerType) {
    if (eventName === 'networkChange') {
      window.removeEventListener('networkChange', this.networkChangeEventHandler as EventListener);
    }

    if (eventName === 'accountChange') {
      window.removeEventListener('accountChange', this.accountChangeEventHandler as EventListener);
    }
  }
  connect = connect;
  disconnect = disconnect;
  getAccounts = getAccounts;
  getPublicKey = getPublicKey;
  getChain = getChain;
  hasPermissions = hasPermissions;
  requestPermissions = requestPermissions;
  signTransactionBlock = signTransactionBlock;
  signTransaction = signTransaction;
  signAndExecuteTransactionBlock = signAndExecuteTransactionBlock;
  signAndExecuteTransaction = signAndExecuteTransaction;
  signMessage = signMessage;
  signPersonalMessage = signPersonalMessage;
}

export { SuiStandard };
